import base64,os,random

files=["test.txt"]
key=open("key").read()

def decode(key, enc):
    dec = []
    enc = base64.urlsafe_b64decode(enc).decode()
    for i in range(len(enc)):
        key_c = key[i % len(key)]
        dec_c = chr((256 + ord(enc[i]) - ord(key_c)) % 256)
        dec.append(dec_c)
    return "".join(dec)

def main():
    for x in files:
        decoded_x=decode(str(key),open(x).read())
        open(x,"w+").write(decoded_x)
    os.remove("key")